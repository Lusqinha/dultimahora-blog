<% content_for :title, "Posts" %>

<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div id="posts" class="min-w-full divide-y divide-gray-200 space-y-5">
    <% if @posts.any? %>
      <% @posts.each do |post| %>
        <div class="flex flex-row md:w-4/6 mx-auto">
          <div class="p-5 rounded-md rounded-r-none w-full text-white bg-[#0047FF] md:min-h-[250px] flex flex-col justify-around">
            <div class="flex justify-between items-start flex-col">
              <h2 class="font-bold text-2xl md:text-4xl"><%= link_to truncate(post.title, length: 50), post_path(post) %></h2>
              <p class="text-[#ffff]/60"><%= time_ago_in_words(post.created_at) %> atr√°s</p>
            </div>
            <p class="block lg:hidden mt-3 p-3 bg-[#000]/10 rounded-lg font-semibold text-sm"><%= truncate(strip_tags(post.content.to_s), length: 75) %></p>
            <p class="hidden lg:block mt-3 p-3 md:py-5 bg-[#000]/10 rounded-lg font-semibold"><%= truncate(strip_tags(post.content.to_s), length: 300) %></p>
            <div class="mt-2">
              <%= link_to "Ler mais", post_path(post), class: "text-white font-bold hover:underline text-lg " %>
            </div>
          </div>    
          <%= image_tag 'ticket-azul.svg', class: "md:min-h-[250px] border-l-5 border-dashed border-[#0047FF]" %>
        </div>
                   
      <% end %>
    <% else %>
      <p class="text-center my-10">No posts found.</p>
    <% end %>
  </div>
</div>
